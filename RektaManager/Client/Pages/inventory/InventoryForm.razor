@using RektaManager.Shared.ComponentModels.Inventories
<div class="col-12 d-flex justify-content-center">
    <EditForm Model="@Model" OnValidSubmit="@SubmitForm">
        <DataAnnotationsValidator />
        <ValidationSummary />
        <div class="form-group custom-forms-preset">
            <label for="supplyDate"><b>Date Supplied</b></label>
            <div>
                <InputDate id="supplyDate" class="form-control custom-forms-preset"
                           @bind-Value="@Model.SupplyDate" />
            </div>
        </div>
        <div class="form-group custom-forms-preset">
            <label for="inventoryName"><b>Inventory Name</b></label>
            <div>
                <InputText id="inventoryName" class="form-control custom-forms-preset" @bind-Value="@Model.Name" />
            </div>
        </div>
        <div class="form-group custom-forms-preset">
            <label for="totalValue"><b>Total Value</b></label>
            <div>
                <InputNumber id="totalValue" class="form-control custom-forms-preset" @bind-Value="@Model.Price" />
            </div>
        </div>
        <div class="form-group custom-forms-preset">
            <label for="quantity"><b>Starting Quantity</b></label>
            <div>
                <InputNumber id="quantity" class="form-control custom-forms-preset" @bind-Value="@Model.Quantity" />
            </div>
        </div>

        <div class="form-group">
            <button type="submit" class="btn btn-primary col-12" disabled="@Disabled">@ButtonActionName</button> 
            <span style="display: @showSpinner">
                <ActionSpinner ActionName="@SpinnerActionName" ColorVariant="@SpinnerColor"/>
            </span>
        </div>
    </EditForm>
</div>

@code {

    private string showSpinner = "none";

    [Parameter]
    public EventCallback SubmitForm { get; set; }

    [Parameter]
    public bool Disabled { get; set; }

    [Parameter]
    public bool ShowSpinner { get; set; }

    [Parameter]
    public string SpinnerActionName { get; set; }

    [Parameter]
    public string SpinnerColor { get; set; } = "text-dark";

    [Parameter]
    public InventoryUpsertComponentModel Model { get; set; }

    [Parameter]
    public string ButtonActionName { get; set; }


}
